<!DOCTYPE html>

<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>JaKòb - Donation Categories</title>
<!-- Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200..800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<!-- Tailwind Configuration -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ea2a33",
                        "primary-dark": "#c91b24",
                        "background-light": "#f8f6f6",
                        "background-dark": "#211111",
                        "surface-dark": "#2f1a1b",
                    },
                    fontFamily: {
                        "display": ["Plus Jakarta Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "1rem",
                        "sm": "0.5rem",
                        "md": "0.75rem",
                        "lg": "1.5rem",
                        "xl": "2rem",
                        "2xl": "2.5rem",
                        "3xl": "3rem",
                        "full": "9999px"
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    }
                },
            },
        }
    </script>
<style>
        /* Custom scrollbar hiding for clean UI */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
  </head>
<body class="bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white antialiased selection:bg-primary selection:text-white">
<div class="relative min-h-screen w-full flex flex-col overflow-x-hidden pb-32 max-w-md mx-auto shadow-2xl bg-background-light dark:bg-background-dark">
<!-- Subtle Taino Pattern Background Overlay -->
<div class="fixed inset-0 pointer-events-none opacity-5 bg-[url('https://www.transparenttextures.com/patterns/black-scales.png')] mix-blend-overlay z-0"></div>
<!-- Top App Bar -->
<header class="relative z-10 flex items-center p-5 justify-between bg-transparent">
<div class="flex items-center gap-3">
<button class="flex items-center justify-center size-10 rounded-full bg-surface-dark/50 active:scale-95 transition-transform">
<span class="material-symbols-outlined text-white">menu</span>
</button>
<h2 class="text-white text-2xl font-bold tracking-tight">JaKòb</h2>
</div>
<div class="flex items-center gap-2 bg-surface-dark/80 px-4 py-2 rounded-full border border-white/5 backdrop-blur-md">
<span class="material-symbols-outlined text-primary text-[20px] fill-1">account_balance_wallet</span>
<p data-wallet-balance class="text-white text-sm font-bold tracking-wide">0 HTG</p>
</div>
</header>
<!-- Headline -->
<section class="relative z-10 px-5 pt-2 pb-6">
<h1 class="text-white text-[34px] font-extrabold leading-[1.1] tracking-tight mb-2">
                Where does your <span class="text-primary">heart</span> lead?
            </h1>
<p class="text-white/60 text-base font-medium">Support the creators keeping our heritage alive.</p>
</section>
<!-- Creator Spotlight (Carousel) -->
<section class="relative z-10 mb-8">
<div class="flex justify-between items-end px-5 mb-4">
<h3 class="text-white text-lg font-bold">Creator of the Week</h3>
<a class="text-primary text-sm font-semibold flex items-center" href="influencers.html">
                    View all <span class="material-symbols-outlined text-sm ml-0.5">arrow_forward</span>
</a>
</div>
<div id="creatorsShowcase" class="flex overflow-x-auto gap-4 px-5 pb-4 no-scrollbar snap-x snap-mandatory">
<!-- Creators will be loaded dynamically from API -->
</div>
</section>
<!-- Categories Grid (Dynamic/Asymmetrical) -->
<section class="relative z-10 px-5">
<h3 class="text-white text-lg font-bold mb-4">Browse Categories</h3>
<div class="grid grid-cols-2 gap-4 auto-rows-[minmax(140px,auto)]">
<!-- Category 1: Music (Wide span) -->
<a href="explore.html?category=Music" class="col-span-2 relative h-44 rounded-2xl overflow-hidden bg-surface-dark border border-white/5 group active:scale-[0.98] transition-all block">
<div class="absolute right-0 top-0 w-2/3 h-full bg-gradient-to-l from-primary/20 to-transparent opacity-50 rounded-full blur-2xl transform translate-x-10 -translate-y-10"></div>
<div class="absolute inset-0 p-6 flex flex-col justify-between z-10">
<div class="size-12 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/10">
<span class="material-symbols-outlined text-primary text-2xl">music_note</span>
</div>
<div>
<h4 class="text-white text-2xl font-bold">Mizik</h4>
<p class="text-white/60 text-sm mt-1">Keep the rhythm of the drums alive</p>
</div>
</div>
<!-- Decorative Vèvè-like element -->
<div class="absolute -right-6 -bottom-6 opacity-10 rotate-12">
<span class="material-symbols-outlined text-white text-[180px]">queue_music</span>
</div>
</a>
<!-- Category 2: Art (Tall vertical) -->
<a href="explore.html?category=Art" class="row-span-2 relative rounded-2xl overflow-hidden bg-surface-dark border border-white/5 group active:scale-[0.98] transition-all block">
<div class="absolute inset-0 bg-[url('https://images.unsplash.com/photo-1549887552-93f8efb4133f?q=80&amp;w=600&amp;auto=format&amp;fit=crop')] bg-cover bg-center opacity-40 mix-blend-overlay" data-alt="Abstract colorful paint texture"></div>
<div class="absolute inset-0 bg-gradient-to-b from-transparent via-surface-dark/50 to-surface-dark"></div>
<div class="absolute inset-0 p-5 flex flex-col justify-between z-10">
<div class="size-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/10">
<span class="material-symbols-outlined text-white text-xl">palette</span>
</div>
<div class="mb-2">
<h4 class="text-white text-xl font-bold">Atizay</h4>
<p class="text-white/60 text-xs mt-1 leading-relaxed">Painting, sculpture, and metal work from the soul.</p>
</div>
</div>
</a>
<!-- Category 3: Community (Standard) -->
<a href="explore.html?category=Community" class="relative h-40 rounded-2xl overflow-hidden bg-surface-dark border border-white/5 group active:scale-[0.98] transition-all block">
<div class="absolute inset-0 p-5 flex flex-col justify-between z-10">
<div class="size-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/10">
<span class="material-symbols-outlined text-white text-xl">diversity_3</span>
</div>
<div>
<h4 class="text-white text-lg font-bold">Kominote</h4>
<p class="text-white/60 text-xs">Local projects</p>
</div>
</div>
</a>
<!-- Category 4: Education (Standard) -->
<a href="explore.html?category=Education" class="relative h-40 rounded-2xl overflow-hidden bg-surface-dark border border-white/5 group active:scale-[0.98] transition-all block">
<div class="absolute top-0 right-0 p-5 opacity-20">
<span class="material-symbols-outlined text-primary text-5xl">school</span>
</div>
<div class="absolute inset-0 p-5 flex flex-col justify-between z-10">
<div class="size-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/10">
<span class="material-symbols-outlined text-white text-xl">menu_book</span>
</div>
<div>
<h4 class="text-white text-lg font-bold">Edikasyon</h4>
<p class="text-white/60 text-xs">Youth learning</p>
</div>
</div>
</a>
<!-- Category 5: History & Heritage (Wide span bottom) -->
<a href="explore.html?category=Heritage" class="col-span-2 relative h-32 rounded-2xl overflow-hidden bg-[#ea2a33] group active:scale-[0.98] transition-all block">
<!-- Pattern overlay -->
<div class="absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/black-linen.png')] mix-blend-multiply"></div>
<div class="absolute inset-0 p-6 flex flex-row items-center justify-between z-10">
<div class="flex flex-col">
<h4 class="text-white text-2xl font-bold">Eritaj &amp; Istwa</h4>
<p class="text-white/90 text-sm mt-1">Preserve our roots</p>
</div>
<div class="size-14 rounded-full bg-black/20 flex items-center justify-center">
<span class="material-symbols-outlined text-white text-3xl">temple_hindu</span>
</div>
</div>
</a>
</div>
</section>
<!-- Floating Action Button -->
<button id="fabQuickDonate" class="fixed bottom-24 right-5 z-40 size-16 rounded-full bg-primary shadow-[0_0_20px_rgba(234,42,51,0.5)] flex items-center justify-center text-white active:scale-90 transition-transform animate-pulse hover:animate-none">
<span class="material-symbols-outlined text-3xl">volunteer_activism</span>
</button>
<!-- Bottom Navigation -->
<nav class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-[360px] bg-surface-dark/90 backdrop-blur-xl border border-white/10 rounded-full p-2 z-50 shadow-2xl flex justify-between items-center">
<a class="flex flex-col items-center justify-center w-1/4 h-full gap-1 group" href="home.html">
<div class="p-2 rounded-full bg-primary/20 group-hover:bg-primary/30 transition-colors">
<span class="material-symbols-outlined text-primary text-2xl filled">grid_view</span>
</div>
</a>
<a class="flex flex-col items-center justify-center w-1/4 h-full gap-1 group" href="explore.html">
<div class="p-2 rounded-full hover:bg-white/5 transition-colors">
<span class="material-symbols-outlined text-white/50 group-hover:text-white text-2xl">search</span>
</div>
</a>
<a class="flex flex-col items-center justify-center w-1/4 h-full gap-1 group" href="../user/wallet.html">
<div class="p-2 rounded-full hover:bg-white/5 transition-colors">
<span class="material-symbols-outlined text-white/50 group-hover:text-white text-2xl">account_balance_wallet</span>
</div>
</a>
<a class="flex flex-col items-center justify-center w-1/4 h-full gap-1 group" href="../user/profile.html">
<div class="p-2 rounded-full hover:bg-white/5 transition-colors">
<span class="material-symbols-outlined text-white/50 group-hover:text-white text-2xl">person</span>
</div>
</a>
</nav>
<!-- Payment Method Footer Hint -->
<div class="w-full text-center pb-28 pt-8 opacity-40">
<p class="text-[10px] text-white uppercase tracking-widest font-bold">Secure payments with MonCash &amp; Natcash</p>
</div>
</div>
    <!-- User Data Loader -->
    <script src="/assets/js/user-data.js"></script>
    <script src="/assets/js/donation-modal.js"></script>

    <!-- Custom script to load featured campaigns -->
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // Load wallet balance
            const walletData = await getWallet();
            if (walletData && walletData.wallet) {
                const balanceElements = document.querySelectorAll('[data-wallet-balance]');
                balanceElements.forEach(el => {
                    el.textContent = formatCurrency(walletData.wallet.total_balance);
                });
            }

            // Load featured campaigns for "Creator of the Week"
            const featuredCampaigns = await getCampaigns({
                status: 'active',
                limit: 6
            });

            if (featuredCampaigns && featuredCampaigns.campaigns && featuredCampaigns.campaigns.length > 0) {
                const carousel = document.querySelector('.flex.overflow-x-auto.gap-4.px-5.pb-4.no-scrollbar.snap-x.snap-mandatory');

                // Replace hardcoded cards with real campaigns
                carousel.innerHTML = featuredCampaigns.campaigns.map(campaign => {
                    const influencerName = campaign.influencer_name || campaign.display_name || 'Creator';
                    const influencerUsername = campaign.influencer_username || campaign.username || 'creator';
                    const imageUrl = campaign.image_url || campaign.influencer_avatar || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(influencerName) + '&background=ea2a33&color=fff&size=400&bold=true';

                    return `
                        <a href="influencer-profile.html?id=${campaign.influencer_id}" class="snap-center shrink-0 w-64 h-80 relative rounded-2xl overflow-hidden group block">
                            <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110" style="background-image: url('${imageUrl}');"></div>
                            <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent p-5 flex flex-col justify-end">
                                <div class="flex items-center gap-1 mb-1">
                                    <span class="bg-primary/90 text-white text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider">${escapeHtml(campaign.category)}</span>
                                    ${campaign.influencer_verified || campaign.verified ? '<span class="material-symbols-outlined text-blue-400 text-sm">verified</span>' : ''}
                                </div>
                                <h4 class="text-white text-xl font-bold">${escapeHtml(influencerName)}</h4>
                                <p class="text-white/70 text-sm mb-2">@${escapeHtml(influencerUsername)}</p>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-white/60 text-xs">Raised</p>
                                        <p class="text-white text-sm font-bold">${formatCurrency(campaign.raised_amount)}</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-white/60 text-xs">Goal</p>
                                        <p class="text-white text-sm font-bold">${formatCurrency(campaign.goal_amount)}</p>
                                    </div>
                                </div>
                                <div class="w-full bg-white/20 rounded-full h-1 mt-2">
                                    <div class="bg-primary h-full rounded-full" style="width: ${campaign.progress_percentage}%"></div>
                                </div>
                            </div>
                        </a>
                    `;
                }).join('');
            }

            // Load creators showcase
            async function loadCreatorsShowcase() {
                try {
                    const response = await fetch('/api/get-influencers.php?limit=10');
                    const result = await response.json();

                    if (result.success && result.influencers && result.influencers.length > 0) {
                        const showcase = document.getElementById('creatorsShowcase');
                        showcase.innerHTML = result.influencers.map(creator => {
                            const avatarUrl = creator.avatar_url || `https://ui-avatars.com/api/?name=${encodeURIComponent(creator.display_name)}&background=ea2a33&color=fff&size=256&bold=true`;
                            return `
                                <a href="influencer-profile.html?id=${creator.id}" class="snap-center shrink-0 w-64 h-80 relative rounded-2xl overflow-hidden group">
                                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                                         style="background-image: url('${avatarUrl}');"></div>
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent p-5 flex flex-col justify-end">
                                        <div class="flex items-center gap-1 mb-1">
                                            <span class="bg-primary/90 text-white text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wider">${creator.category}</span>
                                            ${creator.verified ? '<span class="material-symbols-outlined text-primary text-base">verified</span>' : ''}
                                        </div>
                                        <h4 class="text-white text-xl font-bold">${escapeHtml(creator.display_name)}</h4>
                                        <p class="text-white/70 text-sm">${escapeHtml(creator.location || 'Haiti')}</p>
                                    </div>
                                </a>
                            `;
                        }).join('');
                    }
                } catch (error) {
                    console.error('Error loading creators:', error);
                }
            }

            // Load creators on page load
            loadCreatorsShowcase();

            // Handle FAB Quick Donate click
            document.getElementById('fabQuickDonate').addEventListener('click', async () => {
                // Get the first active campaign
                const campaigns = await getCampaigns({ status: 'active', limit: 1 });
                if (campaigns && campaigns.campaigns && campaigns.campaigns.length > 0) {
                    const campaign = campaigns.campaigns[0];
                    showDonationModal(campaign.id, campaign.title, campaign.display_name);
                } else {
                    alert('No active campaigns available at the moment.');
                }
            });
        });
    </script>
</body></html>